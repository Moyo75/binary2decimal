<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BinaryToDecimal</title>
    <link rel="stylesheet" href="binary.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/uikit@3.4.0/dist/css/uikit.min.css"
    />
  </head>
  <body class="uk-background-default uk-flex uk-flex-center">
    <main
      class="uk-container uk-align-center"
      id="main"
      style="min-width: 30%;"
    >
      <header>
        <div class="uk-flex uk-flex-between">
          <h1 id="headerText">Bin2Dec</h1>
          <div style="padding-top: 10px;" class="moon-container">
            <img
              src="./img/Group 6.svg"
              width="25px"
              style="height: 25px;"
              class="moon"
              id="moon"
            />
          </div>
        </div>
      </header>
      <section>
        <div>
          <form action="" id="binaryForm">
            <div class="uk-margin-small-bottom">
              <p class="uk-margin-small-bottom" id="binaryNumberText">
                Enter binary number:
              </p>
              <input
                id="binaryNumber"
                class="uk-input binary-input uk-margin-small-bottom"
                type="text"
              />
            </div>
            <div class="uk-margin-small-bottom">
              <button class="uk-button uk-button-primary" id="convertBtn">
                Convert
              </button>
              <button class="uk-button uk-button-danger" id="resetBtn">
                Reset
              </button>
              <!-- <div uk-spinner></div> -->
            </div>
          </form>
        </div>
        <div class="uk-margin-small-bottom">
          <p class="decimal-value-text" id="decimalValueText">
            Decimal number:
          </p>
          <textarea
            readonly="on"
            class="uk-textarea decimal-value"
            id="decimalValue"
          ></textarea>
        </div>
        <div class="uk-margin-medium-bottom">
          <p class="decimal-value-text" id="enteredNumberText">
            Entered number:
          </p>
          <textarea
            readonly="on"
            class="uk-textarea duration-value"
            id="durationValue"
          ></textarea>
        </div>
      </section>
      <!-- <footer> -->
      <div>
        <code class="badge html">HTML</code>
        <code class="badge css">CSS</code>
        <code class="badge javascript">JavaScript</code> <br />
        <br />
        <code class="badge git">Git</code>
        <code class="badge devtools">Binary</code>
      </div>
      <!-- </footer> -->
    </main>

    <!--JAVASCRIPT-->

    <script type="module">
      import { binaryToDecimal } from "./binary.js";

      const elementId = (name) => document.getElementById(name);

      const enteredNumberText = elementId("enteredNumberText");
      const binaryNumberText = elementId("binaryNumberText");
      const decimalValueText = elementId("decimalValueText");
      const durationValue = elementId("durationValue");
      const binaryNumber = elementId("binaryNumber");
      const decimalValue = elementId("decimalValue");
      const convertBtn = elementId("convertBtn");
      const binaryForm = elementId("binaryForm");
      const headerText = elementId("headerText");
      const resetBtn = elementId("resetBtn");
      const moon = elementId("moon");
      const main = elementId("main");

      const notBinary = () => {
        binaryNumber.classList.add("binary-input-error");
        binaryNumber.classList.add("uk-animation-shake");
        // decimalValue.textContent = "";
        // binaryNumber.value = "";

        setTimeout(function () {
          binaryNumber.classList.remove("uk-animation-shake");
          binaryNumber.classList.remove("binary-input-error");
        }, 1000);
      };

      convertBtn.onclick = (e) => {
        e.preventDefault();

        binaryToDecimal(binaryNumber.value)
          ? (decimalValue.textContent = binaryToDecimal(binaryNumber.value))
          : notBinary();
      };

      resetBtn.onclick = (e) => {
        e.preventDefault();
        decimalValue.textContent = "";
        binaryNumber.value = "";
      };

      moon.onclick = () => {
        enteredNumberText.classList.toggle("text-mode");
        headerText.classList.toggle("text-mode");
        binaryNumberText.classList.toggle("text-mode");
        decimalValueText.classList.toggle("text-mode");
        document.body.classList.toggle("body-mode");
        main.classList.toggle("main-mode");
      };

      binaryNumber.oninput = () => {
        durationValue.textContent = binaryNumber.value;
        // console.log(
        //   `${binaryNumber.value} converted to base ten is ${decimalValue.textContent}`
        // );
      };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.4.0/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.4.0/dist/js/uikit-icons.min.js"></script>
  </body>
</html>
